(function e(i,t,a){function r(s,o){if(!t[s]){if(!i[s]){var l=typeof require=="function"&&require;if(!o&&l)return l(s,!0);if(n)return n(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var h=t[s]={exports:{}};i[s][0].call(h.exports,function(e){var t=i[s][1][e];return r(t?t:e)},h,h.exports,e,i,t,a)}return t[s].exports}var n=typeof require=="function"&&require;for(var s=0;s<a.length;s++)r(a[s]);return r})({"./src/CubePrimitive.ts":[function(e,i,t){var a=e("awayjs-core/lib/data/BlendMode");var r=e("awayjs-core/lib/events/Event");var n=e("awayjs-core/lib/geom/Vector3D");var s=e("awayjs-core/lib/net/URLLoader");var o=e("awayjs-core/lib/net/URLLoaderDataFormat");var l=e("awayjs-core/lib/net/URLRequest");var d=e("awayjs-core/lib/parsers/ParserUtils");var h=e("awayjs-core/lib/projections/PerspectiveProjection");var c=e("awayjs-core/lib/textures/ImageTexture");var u=e("awayjs-core/lib/utils/RequestAnimationFrame");var w=e("awayjs-display/lib/containers/View");var m=e("awayjs-display/lib/entities/DirectionalLight");var f=e("awayjs-display/lib/materials/lightpickers/StaticLightPicker");var v=e("awayjs-display/lib/prefabs/PrimitiveCubePrefab");var y=e("awayjs-display/lib/prefabs/PrimitiveTorusPrefab");var b=e("awayjs-renderergl/lib/DefaultRenderer");var p=e("awayjs-methodmaterials/lib/MethodMaterial");var _=e("awayjs-methodmaterials/lib/pool/MethodRendererPool");var j=function(){function e(){this.initView();this.initCamera();this.initLights();this.initGeometry();this.loadResources()}e.prototype.initView=function(){this._view=new w(new b(_));this._view.backgroundColor=0;this._view.camera.x=130;this._view.camera.y=0;this._view.camera.z=0};e.prototype.initGeometry=function(){this._cube=new v(20,20,20);this._torus=new y(150,80,32,16,true);this._mesh=this._torus.getNewObject();this._mesh2=this._cube.getNewObject();this._mesh2.x=130;this._mesh2.z=40};e.prototype.initLights=function(){this._light=new m;this._light.color=16777215;this._light.direction=new n(1,0,0);this._light.ambient=.4;this._light.ambientColor=8762061;this._light.diffuse=2.8;this._light.specular=1.8;this._lightPicker=new f([this._light])};e.prototype.initCamera=function(){this._cameraAxis=new n(0,0,1);this._view.camera.projection=new h(120);this._view.camera.projection.near=.1};e.prototype.loadResources=function(){var e=this;window.onresize=function(i){return e.onResize(i)};this.onResize();this._raf=new u(this.render,this);this._raf.start();var i=new l("assets/spacy_texture.png");var t=new s;t.dataFormat=o.BLOB;t.addEventListener(r.COMPLETE,function(i){return e.urlCompleteHandler(i)});t.load(i)};e.prototype.urlCompleteHandler=function(e){var i=this;var t=e.target;this._image=d.blobToImage(t.data);this._image.onload=function(e){return i.imageCompleteHandler(e)}};e.prototype.imageCompleteHandler=function(e){var i=new c(this._image);var t=new p(i,true,true,false);t.blendMode=a.ADD;t.bothSides=true;t.lightPicker=this._lightPicker;this._mesh.material=t;this._mesh2.material=t;this._view.scene.addChild(this._mesh);this._view.scene.addChild(this._mesh2)};e.prototype.render=function(e){if(e===void 0){e=null}this._view.camera.rotate(this._cameraAxis,1);this._mesh.rotationY+=1;this._mesh2.rotationX+=.4;this._mesh2.rotationY+=.4;this._view.render()};e.prototype.onResize=function(e){if(e===void 0){e=null}this._view.y=0;this._view.x=0;this._view.width=window.innerWidth;this._view.height=window.innerHeight};return e}();window.onload=function(){new j}},{"awayjs-core/lib/data/BlendMode":undefined,"awayjs-core/lib/events/Event":undefined,"awayjs-core/lib/geom/Vector3D":undefined,"awayjs-core/lib/net/URLLoader":undefined,"awayjs-core/lib/net/URLLoaderDataFormat":undefined,"awayjs-core/lib/net/URLRequest":undefined,"awayjs-core/lib/parsers/ParserUtils":undefined,"awayjs-core/lib/projections/PerspectiveProjection":undefined,"awayjs-core/lib/textures/ImageTexture":undefined,"awayjs-core/lib/utils/RequestAnimationFrame":undefined,"awayjs-display/lib/containers/View":undefined,"awayjs-display/lib/entities/DirectionalLight":undefined,"awayjs-display/lib/materials/lightpickers/StaticLightPicker":undefined,"awayjs-display/lib/prefabs/PrimitiveCubePrefab":undefined,"awayjs-display/lib/prefabs/PrimitiveTorusPrefab":undefined,"awayjs-methodmaterials/lib/MethodMaterial":undefined,"awayjs-methodmaterials/lib/pool/MethodRendererPool":undefined,"awayjs-renderergl/lib/DefaultRenderer":undefined}]},{},["./src/CubePrimitive.ts"]);

//# sourceMappingURL=CubePrimitive.js.map